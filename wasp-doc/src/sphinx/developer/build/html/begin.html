

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Core concepts &mdash; Wasp System 0.1.0-RELEASE documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0-RELEASE',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Wasp System 0.1.0-RELEASE documentation" href="index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Wasp System 0.1.0-RELEASE documentation</span></a></h1>
        <h2 class="heading"><span>Core concepts</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="core-concepts">
<h1>Core concepts<a class="headerlink" href="#core-concepts" title="Permalink to this headline">¶</a></h1>
<p>Concepts and procedures for working with WASP.</p>
<div class="section" id="data-model">
<h2>Data Model<a class="headerlink" href="#data-model" title="Permalink to this headline">¶</a></h2>
<p>The WASP data model is managed with the object-relational mapping tool <a class="reference external" href="http://hibernate.org/">Hibernate</a>.
Model classes are defined in the package <tt class="docutils literal"><span class="pre">edu.yu.einstein.wasp.model</span></tt>
of the <cite>wasp-core</cite> module. Consult the <a class="reference external" href="http://waspsystem.org/dev/site/apidocs/index.html">JavaDoc</a> for
detailed information regarding the WASP data model.</p>
</div>
<div class="section" id="state">
<h2>State<a class="headerlink" href="#state" title="Permalink to this headline">¶</a></h2>
<p>State is a central concept to dealing with data processing in WASP.
State is managed by a split mechanism within WASP.  The first is a state semaphore system
that is handled through persistence using the WASP <tt class="docutils literal"><span class="pre">State</span></tt> class.  WASP developers
define <tt class="docutils literal"><span class="pre">Task</span></tt>s that represent human intervention tasks that are managed by
<tt class="docutils literal"><span class="pre">State</span></tt>s. A depiction of state transition for the overall Job task is presented
in <a href="index.html#fig-jobtaskstate">figure  3</a>.  In this example, upon creation of a WASP Job, a corresponding
<tt class="docutils literal"><span class="pre">Task</span></tt> is created in the database and it is assigned a <tt class="docutils literal"><span class="pre">State</span></tt> value indicating
that the process is running (running of the process is managed by Spring Batch).
The processing pipeline proceeds through its steps and changes the <tt class="docutils literal"><span class="pre">State</span></tt> to completed
after completion of work. WASP task states are defined by the <tt class="docutils literal"><span class="pre">TaskStatus</span></tt> <tt class="docutils literal"><span class="pre">enum</span></tt>.
The intention is to use these states for all tasks; however, states are persisted through <tt class="docutils literal"><span class="pre">Enum</span></tt>s
allowing developers can create their own states to manage custom <tt class="docutils literal"><span class="pre">Task</span></tt>s
when it becomes necessary.</p>
<div class="figure align-center" id="fig-jobtaskstate">
<img alt="_images/JobTaskState.png" src="_images/JobTaskState.png" style="width: 7cm;" />
<p class="caption">Figure 1: Job Task State.</p>
</div>
<p>All processes defined within WASP are implemented as <a class="reference external" href="http://www.springsource.org/spring-batch&quot;">Spring Batch</a> job flows.  <a href="index.html#fig-taskstate">figure  4</a> presents an
example state diagram where the state of a Spring Batch flow is determined by the <tt class="docutils literal"><span class="pre">State</span></tt> of
a WASP <tt class="docutils literal"><span class="pre">Task</span></tt> designed to manage human interaction related to the flow.</p>
<div class="figure align-center" id="fig-taskstate">
<img alt="_images/TaskState.png" src="_images/TaskState.png" style="width: 14cm;" />
<p class="caption">Figure 2: State transitions for a WASP task to monitor approval of a job by a principal investigator.</p>
</div>
<p>Standard Spring Batch flows are distributed with the system as plugins, and define the standard behavior
of the application.  These flows can be configured for a local instance or even completely replaced.  Any
logic that is particular to a particular institution can be configured by adding custom flow steps.  For example,
the standard web application defines the act of manually approving an invistigator&#8217;s request by a departmental
administrator who checks to see that the investigator has sufficient funds in the grant used to place an order.
This step can be removed and replaced with code that requests funds from an institutional accounting system,
encumbers the funds, and automatically approves the job.  This new functionality may then be overridden in
the web application where tasks can be approved by users with sufficient privileges.</p>
</div>
<div class="section" id="web-functionality">
<h2>Web functionality<a class="headerlink" href="#web-functionality" title="Permalink to this headline">¶</a></h2>
<p>Description of XML definitions of web flows and implementation of custom
controllers.  How to extend.</p>
</div>
<div class="section" id="metadata-system">
<h2>Metadata system<a class="headerlink" href="#metadata-system" title="Permalink to this headline">¶</a></h2>
<p>Description of the WASP key-value data collection system, enforcement via
code and how to extend it.  How to define resources and collect metadata.</p>
</div>
<div class="section" id="analytical-pipelines">
<h2>Analytical Pipelines<a class="headerlink" href="#analytical-pipelines" title="Permalink to this headline">¶</a></h2>
<p>Execution of analytical pipelines: trigger instrument specific pipelines (eg.
Illumina/CASAVA), encapsulate existing tools as tasks (eg. MPS reference based aligners)
or define flows of tasks to generate analytical pipelines.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Albert Einstein College of Medicine.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
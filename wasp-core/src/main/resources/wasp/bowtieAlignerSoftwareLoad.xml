<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	default-autowire="byName"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    
   <bean id="bowtieAlignerArea" class="java.lang.String">
  	<constructor-arg><value>bowtieAligner</value></constructor-arg>
  </bean>

  <bean class="edu.yu.einstein.wasp.load.UiFieldFamilyWrapper" id="bowtieAlignerUiFieldWrapper">
    <property name="baseLocale" value="en_US" />
    <property name="baseArea" ref="bowtieAlignerArea" />
  </bean>

  <bean id="bowtieAlignerSoftware" class="edu.yu.einstein.wasp.load.SoftwareLoaderAndFactory">
    <property name="name" value="Bowtie Aligner" />
    <property name="area" ref="bowtieAlignerArea" />
    <property name="resourceType" ref="referenceBasedAlignerResourceType" />
	<property name="metaFromWrapper">
       <bean class="edu.yu.einstein.wasp.load.MetaLoadWrapper">
         <property name="area" ref="bowtieAlignerArea" />
         <property name="metaList">
         	<list>
         		<value>#{waspSoftware['currentVersion']}=0.12.7</value>
         		<value>#{waspSoftware['priorVersions']}=</value>
         	</list>
       	 </property>
       </bean>
    </property> 

    <property name="uiFieldsFromWrapper">
      <list>
        <bean parent="bowtieAlignerUiFieldWrapper">
          <property name="baseName" value="mismatches" />
           <property name="metaposition" value="10" />
           <property name="label" value="Number of mismatches (0-3)" />
           <property name="type" value="INTEGER" />
           <property name="range" value="0:3" />
           <property name="default" value="2" />
           <property name="constraint" value="NotEmpty" />
           <property name="error" value="A value for number of mismatches must be specified" />
           <property name="tooltip" value="Maximum number of mismatches permitted in the seed, i.e. the first L base pairs of the read. This may be 0, 1, 2 or 3." />
        </bean>
        
        <bean parent="bowtieAlignerUiFieldWrapper">
          <property name="baseName" value="seedLength" />
          <property name="metaposition" value="20" />
          <property name="label" value="Seed Length" />
          <property name="type" value="NUMBER" />
          <property name="range" value="5:1000" />
          <property name="default" value="28" />
          <property name="constraint" value="NotEmpty" />
          <property name="error" value="A value for seed length must be specified" />
          <property name="tooltip" value="The number of bases on the high-quality end of the read to which the # mismatches ceiling applies. The lowest permitted setting is 5." />
        </bean>
        
        <bean parent="bowtieAlignerUiFieldWrapper">
          <property name="baseName" value="reportAlignmentNum" />
          <property name="metaposition" value="30" />
          <property name="label" value="Number of Alignments to Report" />
          <property name="type" value="INTEGER" />
          <property name="default" value="1" />
          <property name="constraint" value="NotEmpty" />
          <property name="error" value="A value for number of alignments must be specified" />
          <property name="tooltip" value="Report up to N valid alignments per read or pair " />
        </bean>
        
        <bean parent="bowtieAlignerUiFieldWrapper">
          <property name="baseName" value="discardThreshold" />
          <property name="metaposition" value="40" />
          <property name="label" value="Discard if more than how many alignments?" />
          <property name="type" value="INTEGER" />
          <property name="default" value="1" />
          <property name="constraint" value="NotEmpty" />
          <property name="error" value="A value for the discard threshold must be specified" />
          <property name="tooltip" value="Suppress all alignments for a particular read or pair if more than N reportable alignments exist for it." />
        </bean>
        
        <bean parent="bowtieAlignerUiFieldWrapper">
          <property name="baseName" value="isBest" />
          <property name="metaposition" value="50" />
          <property name="label" value="report only best alignments?" />
          <property name="control" value="select:yes:yes;no:no" />
          <property name="default" value="yes" />
          <property name="constraint" value="NotEmpty" />
          <property name="error" value="A value must be selected" />
          <property name="tooltip" value="Make Bowtie guarantee that reported singleton alignments are best in terms of stratum (i.e. number of mismatches in the seed) and in terms of the quality values at the mismatched position(s)" />
        </bean>     
      </list>
    </property>

  </bean> 

</beans>
